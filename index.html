<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>SSH GUI!</title>
  <link rel="stylesheet" href="assets/css/stil.css">
</head>

<body>

  <header id="titlebar">
    <div id="drag-region">

      <div id="window-title">
        <span>SSH GUI</span>
      </div>

      <div id="window-controls">
        <div class="button" id="min-button">
          <span>&#xE921;</span>
        </div>
        <div class="button" id="max-button">
          <span>&#xE922;</span>
        </div>
        <div class="button" id="restore-button">
          <span>&#xE923;</span>
        </div>
        <div class="button" id="close-button">
          <span>&#xE8BB;</span>
        </div>

      </div>
    </div>
  </header>

  <div id="main">
    <h1>Hello</h1>

    <form>
      <label for="ipadresse">IP-adresse:</label>
      <input type="text" id="ipadresse" value="ipadresse"><br>

      <label for="brukernavn">Brukernavn:</label>
      <input type="text" id="brukernavn" value="bruker"><br>

      <label for="passord">Passord:</label>
      <input type="password" id="passord" value="passord"><br>
    </form>

    <input type="button" onclick="sshls()" value="ssh-ls">
    <input type="button" id="shutdown" onclick="sshshutdown()" value="ssh-shutdown">
    <p style="white-space: pre-line" id="consoleoutput"></p>
    <p id="consoleoutputerror"></p>
    <p id="consoleoutputexitcode"></p>


    <p id="version"></p>
  </div>

  <div id="notification" class="hidden">
    <p id="message"></p>
    <button id="close-button" onClick="closeNotification()">
      Close
    </button>
    <button id="restart-button" onClick="restartApp()" class="hidden">
      Restart
    </button>
  </div>
  <script>const { ipcRenderer } = require('electron');
    const version = document.getElementById('version');

    ipcRenderer.send('app_version');
    ipcRenderer.on('app_version', (event, arg) => {
      ipcRenderer.removeAllListeners('app_version');
      version.innerText = 'Version ' + arg.version;
    });

    const notification = document.getElementById('notification');
    const message = document.getElementById('message');
    const restartButton = document.getElementById('restart-button'); ipcRenderer.on('update_available', () => {
      ipcRenderer.removeAllListeners('update_available');
      message.innerText = 'A new update is available. Downloading now...';
      notification.classList.remove('hidden');
    }); ipcRenderer.on('update_downloaded', () => {
      ipcRenderer.removeAllListeners('update_downloaded');
      message.innerText = 'Update Downloaded. It will be installed on restart. Restart now?';
      restartButton.classList.remove('hidden');
      notification.classList.remove('hidden');
    });

    function closeNotification() {
      notification.classList.add('hidden');
    } function restartApp() {
      ipcRenderer.send('restart_app');
    }</script>
  <script src="assets/scripts/auto-update.js"></script>
  <script src="assets/scripts/ssh.js"></script>
  <script src="assets/scripts/menu.js"></script>
  <script src="renderer.js"></script>
</body>

</html>